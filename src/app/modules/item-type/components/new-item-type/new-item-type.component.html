
<section class="flex flex-column bg-black-alpha-90">
    <nav class="bg-black-alpha-90 px-4 flex justify-content-between relative xl:static" style="min-height:70px">
        <div></div>
        <!-- <img src="assets/images/blocks/logos/hyper-300.svg" alt="Image" height="40" class="mr-0 xl:mr-6 align-self-center"> -->
        <a pRipple class="cursor-pointer block xl:hidden align-self-center text-700" pStyleClass="@next"
            enterClass="hidden" leaveToClass="hidden" [hideOnOutsideClick]="true">
            <i class="pi pi-bars text-4xl text-300"></i>
        </a>
        <div class="bg-black-alpha-90 flex-grow-1 justify-content-between hidden xl:flex absolute xl:static w-full left-0 top-100 z-1 shadow-2 xl:shadow-none surface-900">
            <ul class="list-none p-0 m-0 flex select-none flex-column xl:flex-row xl:gap-2">
                <li class="xl:flex xl:align-items-end">
                    <a pRipple class="xl:border-round-top flex align-items-center h-3rem px-3 font-medium cursor-pointer transition-colors transition-duration-150"
                        [ngClass]="{'surface-50 text-900': activeTab === 0, 'surface-700 text-50': activeTab !== 0}" (click)="activeTab = 0">
                        <i class="pi pi-bolt mr-2" [ngClass]="{'text-800': activeTab === 0}"></i>
                        <span>Basic</span>
                    </a>
                </li>
                <li class="xl:flex xl:align-items-end">
                    <a pRipple class="xl:border-round-top flex align-items-center h-3rem px-3 font-medium cursor-pointer transition-colors transition-duration-150"
                        [ngClass]="{'surface-50 text-900': activeTab === 1, 'surface-700 text-50': activeTab !== 1}" (click)="activeTab = 1">
                        <i class="pi pi-cog mr-2" [ngClass]="{'text-800': activeTab === 1}"></i>
                        <span>Setup</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="flex flex-column flex-auto bg-black-alpha-90">
        <div class="surface-section px-4 py-4 lg:py-5 lg:px-6 h-full border-round-top-3xl">
            <div class="flex flex-column md:flex-row w-full justify-content-between md:align-items-center">
                <div>
                    <h2 class="mt-0 mb-2 text-900 font-medium text-2xl">Item Type</h2>
                    <button (click)="goBack()" pButton pRipple type="button" icon="pi pi-arrow-left" label="Go Back" class="p-button-text"></button>
                    <!-- <p class="mt-0 mb-0 text-500">You can review the details of your measurement units.</p> -->
                </div>
            </div>
            <p-divider styleClass="my-3"></p-divider>
            <form [formGroup]="itemTypeForm">
            <div class="p-fluid flex flex-column lg:flex-row">
                <div class="surface-card p-5 shadow-2 border-round flex-auto xl:ml-5">
                    <p-divider></p-divider>
                    <ng-container *ngIf="activeTab==0">
                              <div class="field flex flex-wrap align-items-center">
                                <label for="shortText" style="min-width:100px;" class="w-3">Short</label>
                                <div class="w-9">
                                  <input id="shortText" type="text" pInputText formControlName="shortText"/> 
                                </div>
                            </div>
                            <div class="field flex flex-wrap align-items-center">
                              <label for="longText" style="min-width:100px;" class="w-3">Long</label>
                              <div class="w-9">
                                <input id="longText" type="text" pInputText formControlName="longText"/> 
                              </div>
                          </div>
                          <div class="field flex flex-wrap align-items-center">
                            <label for="searchText" style="min-width:100px;" class="w-3">Search</label>
                            <div class="w-9">
                              <input id="searchText" type="text" pInputText formControlName="searchText"/> 
                            </div>
                        </div>
                           
                          
                          <div class="field flex flex-wrap align-items-center">
                              <label for="itemNature" style="min-width:100px;" class="w-3">Item nature</label>
                              <div class="w-9">
                                <p-dropdown styleClass="w-full md:w-3" optionValue="code" placeholder="Seçim Yapınız" inputId="itemNature" [autoDisplayFirst]="false" [options]="itemNatures" formControlName="itemNature" optionLabel="name"></p-dropdown>
                              </div>
                          </div>
              
                          <div class="field flex flex-wrap align-items-center">
                              <label for="maxCodeLength" style="min-width:100px;" class="w-3">Max code length</label>
                              <div class="w-9">
                                  <p-inputNumber inputId="maxCodeLength" formControlName="maxCodeLength">
                                  </p-inputNumber>
                              </div>
                          </div>
              
                          <div class="field flex flex-wrap align-items-center">
                              <label for="sellingType" style="min-width:100px;" class="w-3">Selling type</label>
                              <div class="w-9">
                                  <p-checkbox formControlName="sellingType" [binary]="true" inputId="sellingType"></p-checkbox>
                              </div>
                          </div>
                  
                          <div class="field flex flex-wrap align-items-center">
                              <label for="valid" style="min-width:100px;" class="w-3">Valid</label>
                              <div class="w-9">
                                  <p-checkbox formControlName="valid" [binary]="true" inputId="valid"></p-checkbox>
                              </div>
                          </div>
              
                          <div class="field flex flex-wrap align-items-center">
                              <label for="managedByBox" style="min-width:100px;" class="w-3">Managed by box</label>
                              <div class="w-9">
                                  <p-checkbox formControlName="managedByBox" [binary]="true" inputId="managedByBox"></p-checkbox>
                              </div>
                          </div>
              
                          <div class="field flex flex-wrap align-items-center">
                              <label for="handleComponentStatus" style="min-width:100px;" class="w-3">Handle component status</label>
                              <div class="w-9">
                                  <p-checkbox formControlName="handleComponentStatus" [binary]="true" inputId="handleComponentStatus"></p-checkbox>
                              </div>
                          </div>
                    </ng-container>
                    <ng-container *ngIf="activeTab==1">
                            <div class="field flex flex-wrap align-items-center p-3">
                                <label for="structure" style="min-width:100px;" class="w-3">Structure</label>
                                <div class="w-9">
                                  <p-dropdown styleClass="w-full md:w-3" optionValue="code" placeholder="Seçim Yapınız" inputId="structure" [autoDisplayFirst]="false" [options]="structures" formControlName="structure" optionLabel="name"></p-dropdown>
                                </div>
                            </div>
                
                            <div class="field flex flex-wrap align-items-center p-3">
                                <label for="statusAllowed" style="min-width:100px;" class="w-3">Status allowed</label>
                                <div class="w-9">
                                  <p-dropdown styleClass="w-full md:w-3" optionValue="code" placeholder="Seçim Yapınız" inputId="statusAllowed" [autoDisplayFirst]="false" [options]="statusAlloweds" formControlName="statusAllowed" optionLabel="name"></p-dropdown>
                                </div>
                            </div>
                
                            <div class="field flex flex-wrap align-items-center p-3">
                                <label for="primaryUOM" style="min-width:100px;" class="w-3">Primary UoM</label>
                                <div class="w-9">
                                  <p-dropdown styleClass="w-full md:w-3" placeholder="Seçim Yapınız" inputId="primaryUOM" [autoDisplayFirst]="false" [options]="uomList" formControlName="primaryUOM" optionLabel="shortText"></p-dropdown>
                                </div>
                            </div>
                
                            <div class="field flex flex-wrap align-items-center p-3">
                                <label for="secondaryUnitControlled" style="min-width:100px;" class="w-3">Secondary unit controlled</label>
                                <div class="w-9">
                                    <p-checkbox (onChange)="changeSecondaryUoM($event.checked)" formControlName="secondaryUnitControlled" [binary]="true" inputId="secondaryUnitControlled"></p-checkbox>
                                </div>
                            </div>
                
                            @if (secondaryUOMVisible) {
                                <div class="field flex flex-wrap align-items-center p-3">
                                    <label for="secondaryUOM" style="min-width:100px;" class="w-3">Secondary UoM</label>
                                    <div class="w-9">
                                      <p-dropdown styleClass="w-full md:w-3" placeholder="Seçim Yapınız" inputId="secondaryUOM" [autoDisplayFirst]="false" [options]="uomList" formControlName="secondaryUOM" optionLabel="shortText"></p-dropdown>
                                    </div>
                                </div>
                    
                                <div class="field flex flex-wrap align-items-center p-3">
                                    <label for="secondaryConversionFactor" style="min-width:100px;" class="w-3">Secondary conversion factor</label>
                                    <div class="w-9">
                                        <p-inputNumber inputId="secondaryConversionFactor" formControlName="secondaryConversionFactor" mode="decimal"></p-inputNumber>
                                    </div>
                                </div>                
                            }
                
                            <div class="field flex flex-wrap align-items-center p-3">
                                <label for="packagingUnitControlled" style="min-width:100px;" class="w-3">Packaging unit controlled</label>
                                <div class="w-9">
                                    <p-checkbox (onChange)="changePackagingUoM($event.checked)" formControlName="packagingUnitControlled" [binary]="true" inputId="packagingUnitControlled"></p-checkbox>
                                </div>
                            </div>
                
                            @if (packagingUOMVisible) {
                                <div class="field flex flex-wrap align-items-center p-3">
                                    <label for="baseUoMPackagingType" style="min-width:100px;" class="w-3">Base UoM for packaging type</label>
                                    <div class="w-9">
                                      <p-dropdown styleClass="w-full md:w-3" optionValue="code" placeholder="Seçim Yapınız" inputId="baseUoMPackagingType" [autoDisplayFirst]="false" [options]="basePackagingTypes" formControlName="baseUoMPackagingType" optionLabel="name"></p-dropdown>
                                    </div>
                                </div>
                    
                                <div class="field flex flex-wrap align-items-center p-3">
                                    <label for="packagingUOM" style="min-width:100px;" class="w-3">Packaging UoM</label>
                                    <div class="w-9">
                                      <p-dropdown styleClass="w-full md:w-3" placeholder="Seçim Yapınız" inputId="packagingUOM" [autoDisplayFirst]="false" [options]="packagingUOMList" formControlName="packagingUOM" optionLabel="shortText"></p-dropdown>
                                    </div>
                                </div>
                    
                                <div class="field flex flex-wrap align-items-center p-3">
                                    <label for="packagingConversionFactor" style="min-width:100px;" class="w-3">Packaging conversion factor</label>
                                    <div class="w-9">
                                        <p-inputNumber inputId="packagingConversionFactor" formControlName="packagingConversionFactor" mode="decimal"></p-inputNumber>
                                    </div>
                                </div>      
                            }
                
                            <fieldset class="field">
                                <legend>
                                    <div class="field-checkbox">
                                        <p-checkbox formControlName="qualityControlled" [binary]="true" inputId="qualityControlled"></p-checkbox>
                                        <label for="qualityControlled">Quality controlled</label>
                                    </div>
                                </legend>
                            </fieldset>
                
                            <fieldset class="field">
                                <legend>
                                    <div class="field-checkbox">
                                        <p-checkbox formControlName="lotControlled" [binary]="true" inputId="lotControlled"></p-checkbox>
                                        <label for="lotControlled">Lot controlled</label>
                                    </div>
                                </legend>
                            </fieldset>
                
                            <fieldset class="field">
                                <legend>
                                    <div class="field-checkbox">
                                        <p-checkbox formControlName="containerControlled" [binary]="true" inputId="containerControlled"></p-checkbox>
                                        <label for="containerControlled">Container controlled</label>
                                    </div>
                                </legend>
                            </fieldset>
                
                
                            <fieldset class="field">
                                <legend>
                                    <div class="field-checkbox">
                                        <p-checkbox formControlName="elementControlled" [binary]="true" inputId="elementControlled"></p-checkbox>
                                        <label for="elementControlled">Element controlled</label>
                                    </div>
                                </legend>
                            </fieldset>
                
                
                            <fieldset class="field">
                                <legend>
                                    Controlled
                                </legend>
                                <div class="field flex flex-wrap align-items-center p-3">
                                    <label for="projectControlled" style="min-width:100px;" class="w-3">Project controlled</label>
                                    <div class="w-9">
                                        <p-checkbox formControlName="projectControlled" [binary]="true" inputId="projectControlled"></p-checkbox>
                                    </div>
                                </div>
                                <div class="field flex flex-wrap align-items-center p-3">
                                    <label for="customerControlled" style="min-width:100px;" class="w-3">Customer controlled</label>
                                    <div class="w-9">
                                        <p-checkbox formControlName="customerControlled" [binary]="true" inputId="customerControlled"></p-checkbox>
                                    </div>
                                </div>
                
                                <div class="field flex flex-wrap align-items-center p-3">
                                    <label for="supplierControlled" style="min-width:100px;" class="w-3">Supplier controlled</label>
                                    <div class="w-9">
                                        <p-checkbox formControlName="supplierControlled" [binary]="true" inputId="supplierControlled"></p-checkbox>
                                    </div>
                                </div>
                            </fieldset>
                    </ng-container>

                    <div>
                        <button pButton pRipple label="Save Changes" class="w-auto mt-3" (click)="save(itemTypeForm.value)"></button>
                    </div>
                </div>
            </div>
            </form>
         </div>
    </div>
</section>


<p-confirmDialog key="save-uom" [style]="{width: '50vw'}" [baseZIndex]="10000" rejectButtonStyleClass="p-button-text"></p-confirmDialog>